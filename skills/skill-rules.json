{
  "version": "4.4.0",
  "description": "UltraBuild Pro 4.4.0 Skill Rules - Simplified Edition (No Hooks, No Codex)",
  "commandSkillBindings": {
    "/ultra-init": [],
    "/ultra-research": ["syncing-docs", "guiding-workflow"],
    "/ultra-plan": ["guarding-quality"],
    "/ultra-dev": ["guarding-quality", "guarding-git-workflow", "guarding-test-quality"],
    "/ultra-test": ["guarding-test-quality", "guarding-quality"],
    "/ultra-deliver": ["syncing-docs", "syncing-status", "guarding-quality"],
    "/ultra-status": ["syncing-status", "guiding-workflow"],
    "/ultra-think": ["ultra-think", "guiding-workflow"]
  },
  "skills": {
    "guarding-quality": {
      "type": "guard",
      "enforcement": "auto",
      "priority": "high",
      "description": "Code quality guard - SOLID principles, complexity limits",
      "promptTriggers": {
        "keywords": ["refactor", "重构", "code review", "代码审查", "代码评审", "quality", "质量", "优化代码", "改进代码"],
        "intentPatterns": ["(fix|improve|optimize|修复|改进|优化).*(code|代码)"]
      },
      "fileTriggers": {
        "pathPatterns": ["**/*.ts", "**/*.tsx", "**/*.js", "**/*.py", "**/*.go", "**/*.vue"],
        "pathExclusions": ["**/node_modules/**", "**/*.test.*", "**/*.spec.*"]
      },
      "qualityConfig": {
        "solidPrinciples": ["SRP", "OCP", "LSP", "ISP", "DIP"],
        "solidPrinciples_zh": {
          "SRP": "单一职责原则",
          "OCP": "开闭原则",
          "LSP": "里氏替换原则",
          "ISP": "接口隔离原则",
          "DIP": "依赖倒置原则"
        },
        "maxFunctionLines": 50,
        "maxNestingDepth": 3,
        "maxCyclomaticComplexity": 10,
        "requireTypeAnnotations": true,
        "namingConventions": {
          "functions": "camelCase",
          "classes": "PascalCase",
          "constants": "UPPER_SNAKE_CASE"
        }
      }
    },
    "guarding-test-quality": {
      "type": "guard",
      "enforcement": "auto",
      "priority": "high",
      "description": "Test quality guard - TAS scoring, ZERO MOCK enforcement",
      "promptTriggers": {
        "keywords": ["test", "测试", "TAS", "coverage", "覆盖率", "spec", "单元测试", "集成测试", "测试用例"],
        "intentPatterns": ["(write|add|fix|写|添加|修复).*(test|测试)"]
      },
      "fileTriggers": {
        "pathPatterns": ["**/*.test.ts", "**/*.spec.ts", "**/*.test.js", "**/__tests__/**"]
      },
      "testConfig": {
        "minTAS": 70,
        "minCoverage": 80,
        "minBranchCoverage": 75,
        "maxMockCount": 0,
        "zeroMockPolicy": true,
        "requireBoundaryTests": true,
        "requireExceptionTests": true,
        "prohibitedPatterns": [
          "expect(true).toBe(true)",
          "jest.mock('../",
          "vi.mock('../",
          ".skip(",
          ".todo(",
          "// TODO"
        ],
        "testDimensions": ["functional", "boundary", "exception", "performance", "security", "compatibility"]
      }
    },
    "guarding-git-workflow": {
      "type": "guard",
      "enforcement": "auto",
      "priority": "critical",
      "description": "Git workflow guard - safe commits, branch strategy",
      "promptTriggers": {
        "keywords": ["commit", "提交", "push", "推送", "merge", "合并", "rebase", "变基", "branch", "分支", "git"],
        "intentPatterns": ["git (commit|push|merge|rebase)", "(提交|推送|合并|拉取).*代码"]
      },
      "gitConfig": {
        "dangerousCommands": [
          "push --force",
          "push -f",
          "reset --hard",
          "clean -fd",
          "checkout -- .",
          "rebase -i"
        ],
        "requireConventionalCommits": true,
        "conventionalTypes": ["feat", "fix", "refactor", "docs", "test", "chore", "perf", "ci"],
        "branchNamingPattern": "^(feat|fix|refactor|docs|test|hotfix)/[a-z0-9-]+$",
        "protectedBranches": ["main", "master", "develop", "release/*"],
        "requireCoAuthor": true,
        "coAuthorEmail": "noreply@anthropic.com"
      }
    },
    "syncing-status": {
      "type": "sync",
      "enforcement": "auto",
      "priority": "medium",
      "description": "Status sync - task progress, test results",
      "promptTriggers": {
        "keywords": ["status", "状态", "progress", "进度", "task", "任务", "done", "完成"],
        "intentPatterns": ["(what|show|check|查看|显示|检查).*(status|状态|进度)"]
      },
      "statusConfig": {
        "trackingFile": ".ultra/tasks/tasks.json",
        "statusTypes": ["pending", "in_progress", "completed", "blocked"],
        "autoUpdateOnTaskComplete": true,
        "includeTestResults": true
      }
    },
    "syncing-docs": {
      "type": "sync",
      "enforcement": "auto",
      "priority": "medium",
      "description": "Documentation sync - ADR, research reports",
      "promptTriggers": {
        "keywords": ["document", "文档", "ADR", "research", "研究", "architecture", "架构", "说明文档"],
        "intentPatterns": ["(update|write|create|更新|编写|创建).*(doc|文档)"]
      }
    },
    "guiding-workflow": {
      "type": "utility",
      "enforcement": "auto",
      "priority": "low",
      "description": "Workflow guidance - next step suggestions",
      "promptTriggers": {
        "keywords": ["next", "下一步", "workflow", "工作流", "what should", "该做什么", "接下来"],
        "intentPatterns": ["(what|什么).*(next|下一步|接下来)"]
      }
    },
    "frontend": {
      "type": "domain",
      "enforcement": "auto",
      "priority": "high",
      "description": "Frontend development - React/Vue/Next.js patterns",
      "promptTriggers": {
        "keywords": ["frontend", "前端", "React", "Vue", "Next.js", "Nuxt", "Svelte", "component", "组件", "UI", "界面", "CSS", "样式", "页面", "布局", "响应式", "Tailwind"],
        "intentPatterns": ["(build|create|fix|构建|创建|修复).*(component|组件|页面|界面)"]
      },
      "fileTriggers": {
        "pathPatterns": ["**/*.tsx", "**/*.vue", "**/components/**", "**/pages/**"]
      },
      "frontendConfig": {
        "coreWebVitals": {
          "LCP": "< 2.5s",
          "INP": "< 200ms",
          "CLS": "< 0.1"
        },
        "frameworks": ["React", "Vue", "Next.js", "Nuxt", "Svelte"],
        "a11yRequired": true,
        "a11yStandard": "WCAG 2.1 AA",
        "responsiveBreakpoints": ["mobile", "tablet", "desktop"],
        "stateManagement": ["useState", "useReducer", "Zustand", "Pinia"]
      }
    },
    "backend": {
      "type": "domain",
      "enforcement": "auto",
      "priority": "high",
      "description": "Backend development - API/database/security",
      "promptTriggers": {
        "keywords": ["backend", "后端", "API", "接口", "REST", "GraphQL", "gRPC", "database", "数据库", "server", "服务器", "auth", "认证", "鉴权", "登录", "权限", "中间件", "微服务"],
        "intentPatterns": ["(create|build|fix|创建|构建|修复).*(api|接口|服务)"]
      },
      "fileTriggers": {
        "pathPatterns": ["**/api/**", "**/server/**", "**/controllers/**", "**/routes/**"]
      },
      "backendConfig": {
        "securityChecks": ["SQL injection", "XSS", "CSRF", "command injection", "path traversal", "auth bypass"],
        "requireInputValidation": true,
        "requireRateLimiting": true,
        "requireErrorHandling": true,
        "requireLogging": true,
        "apiPatterns": ["REST", "GraphQL", "gRPC"],
        "authMethods": ["JWT", "OAuth2", "Session"],
        "dbBestPractices": ["parameterized queries", "connection pooling", "index optimization", "N+1 query prevention"]
      }
    },
    "smart-contract": {
      "type": "domain",
      "enforcement": "auto",
      "priority": "high",
      "description": "Smart contract development - EVM/Solana/security audit",
      "promptTriggers": {
        "keywords": ["contract", "合约", "智能合约", "solidity", "ERC", "web3", "blockchain", "区块链", "DeFi", "NFT", "代币", "钱包", "Foundry", "Hardhat", "ethers", "wagmi"],
        "intentPatterns": ["(write|audit|deploy|编写|审计|部署).*(contract|合约)"]
      },
      "fileTriggers": {
        "pathPatterns": ["**/*.sol", "**/contracts/**", "**/foundry/**"]
      },
      "contractConfig": {
        "securityChecks": ["reentrancy", "integer overflow/underflow", "access control", "front-running", "denial of service", "timestamp dependence", "unchecked external calls"],
        "requireAudit": true,
        "gasOptimization": true,
        "supportedChains": ["Ethereum", "Polygon", "Arbitrum", "Optimism", "BSC", "Solana"],
        "standards": ["ERC-20", "ERC-721", "ERC-1155", "ERC-4626"],
        "testingFrameworks": ["Foundry", "Hardhat"],
        "requireFuzzTesting": true,
        "requireInvariantTesting": true
      }
    },
    "ultra-think": {
      "type": "analysis",
      "enforcement": "auto",
      "priority": "high",
      "description": "Deep analysis with 6D framework - multi-dimensional thinking for complex decisions",
      "promptTriggers": {
        "keywords": [
          "深度分析", "深入分析", "权衡", "trade-off", "tradeoff",
          "对比分析", "技术选型", "架构决策", "方案对比",
          "should we", "应该用", "应该选", "该用什么",
          "利弊", "优缺点", "pros and cons",
          "深入思考", "仔细分析", "全面分析",
          "build vs buy", "自建还是", "微服务还是",
          "monolith", "单体", "决策", "选型"
        ],
        "intentPatterns": [
          "(should|应该|该).*(use|choose|adopt|select|用|选|采用)",
          "(compare|对比|比较|分析).*(approach|方案|架构|选项|alternative)",
          "(build|buy|make|自建|外购|购买).*(or|还是|versus|vs)"
        ]
      },
      "analysisConfig": {
        "dimensions": ["technical", "business", "team", "ecosystem", "strategic", "meta"],
        "minSolutions": 3,
        "maxSolutions": 5,
        "requireDevilsAdvocate": true,
        "requireUncertaintyStatement": true
      }
    }
  }
}
