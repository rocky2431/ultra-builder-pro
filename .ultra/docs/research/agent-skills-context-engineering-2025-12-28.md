# Agent Skills ä¸Šä¸‹æ–‡å·¥ç¨‹æ·±åº¦ç ”ç©¶æŠ¥å‘Š

**ç ”ç©¶å¯¹è±¡**: https://github.com/muratcankoylan/Agent-Skills-for-Context-Engineering
**ç ”ç©¶æ—¥æœŸ**: 2025-12-28
**ä»“åº“çŠ¶æ€**: 3.6k stars, MIT License, Active Development

---

## æ‰§è¡Œæ‘˜è¦

æœ¬ç ”ç©¶æ·±åº¦åˆ†æäº† muratcankoylan çš„ Agent Skills for Context Engineering é¡¹ç›®ï¼Œæå–äº† 12 ä¸ªå¯å¤ç”¨çš„åŸå­åŒ–è®¾è®¡æ¨¡å¼ã€‚è¯¥é¡¹ç›®é€šè¿‡ç³»ç»ŸåŒ–çš„ä¸Šä¸‹æ–‡å·¥ç¨‹æ–¹æ³•ï¼Œè§£å†³äº† LLM Agent åœ¨ç”Ÿäº§ç¯å¢ƒä¸­é¢ä¸´çš„æ ¸å¿ƒæŒ‘æˆ˜ï¼šä¸Šä¸‹æ–‡çª—å£ç®¡ç†ã€‚ç ”ç©¶å‘ç°å…¶è®¾è®¡ä¸ Claude Code å®˜æ–¹ Skills ç³»ç»Ÿé«˜åº¦å¥‘åˆï¼ŒåŒæ—¶åœ¨æŸäº›ç»´åº¦æä¾›äº†æ›´ç»†ç²’åº¦çš„å®è·µæŒ‡å¯¼ã€‚

**å…³é”®å‘ç°**:
- Progressive Disclosure æ˜¯æ ¸å¿ƒæ¶æ„åŸåˆ™ï¼Œå®ç° 3 çº§ä¿¡æ¯åŠ è½½
- ä¸Šä¸‹æ–‡éš”ç¦»ä¼˜å…ˆäºè§’è‰²æ‰®æ¼”çš„å¤š Agent è®¾è®¡å“²å­¦
- æä¾›å¯é‡åŒ–çš„ä¼˜åŒ–å†³ç­–æ¡†æ¶ï¼ˆ70% é˜ˆå€¼è§¦å‘ï¼Œ50-70% å‹ç¼©ç›®æ ‡ï¼‰
- å¼ºè°ƒå®ç”¨ä¸»ä¹‰ï¼šå…ˆæµ‹é‡ï¼Œåä¼˜åŒ–ï¼Œé¿å…è¿‡åº¦å·¥ç¨‹

---

## ä»“åº“ç»“æ„åˆ†æ

### ç»„ç»‡æ¶æ„

```
Agent-Skills-for-Context-Engineering/
â”œâ”€â”€ skills/                           # æ ¸å¿ƒæŠ€èƒ½åº“ï¼ˆ4 å¤§ç±»åˆ«ï¼‰
â”‚   â”œâ”€â”€ context-fundamentals/         # åŸºç¡€ï¼šç†è§£ä¸Šä¸‹æ–‡æœºåˆ¶
â”‚   â”œâ”€â”€ context-degradation/          # åŸºç¡€ï¼šlost-in-the-middle ç°è±¡
â”‚   â”œâ”€â”€ context-compression/          # åŸºç¡€ï¼šå‹ç¼©ç­–ç•¥
â”‚   â”œâ”€â”€ multi-agent-patterns/         # æ¶æ„ï¼šå¤š Agent æ¨¡å¼
â”‚   â”œâ”€â”€ memory-systems/               # æ¶æ„ï¼šè®°å¿†ç³»ç»Ÿè®¾è®¡
â”‚   â”œâ”€â”€ tool-design/                  # æ¶æ„ï¼šå·¥å…·é›†è®¾è®¡
â”‚   â”œâ”€â”€ context-optimization/         # è¿ç»´ï¼šä¼˜åŒ–ç­–ç•¥
â”‚   â”œâ”€â”€ evaluation/                   # è¿ç»´ï¼šè¯„ä¼°æ¡†æ¶
â”‚   â”œâ”€â”€ advanced-evaluation/          # è¿ç»´ï¼šé«˜çº§è¯„ä¼°
â”‚   â””â”€â”€ project-development/          # æ–¹æ³•è®ºï¼šLLM é¡¹ç›®å¼€å‘
â”œâ”€â”€ examples/                         # å®æˆ˜æ¡ˆä¾‹
â”‚   â”œâ”€â”€ x-to-book-system/            # å¤š Agent ç›‘æ§ä¸åˆæˆ
â”‚   â”œâ”€â”€ llm-as-judge-skills/         # TypeScript è¯„ä¼°å·¥å…·ï¼ˆ19 æµ‹è¯•é€šè¿‡ï¼‰
â”‚   â””â”€â”€ book-sft-pipeline/           # é£æ ¼è¿ç§»è®­ç»ƒï¼ˆ$2 æˆæœ¬ï¼‰
â””â”€â”€ SKILL_TEMPLATE.md                # æ ‡å‡†åŒ– Skill æ¨¡æ¿
```

### Skill æ ‡å‡†ç»“æ„

æ¯ä¸ª Skill éµå¾ªç»Ÿä¸€æ¨¡æ¿ï¼š
```
skill-name/
â”œâ”€â”€ SKILL.md           # ä¸»æŒ‡ä»¤æ–‡æ¡£ + YAML frontmatter
â”œâ”€â”€ scripts/           # å¯æ‰§è¡Œæ¼”ç¤ºä»£ç 
â””â”€â”€ references/        # è¡¥å……å‚è€ƒæ–‡æ¡£
```

**YAML Frontmatter ç¤ºä¾‹**:
```yaml
---
name: context-fundamentals
description: "Core principles of context engineering for LLM agents"
triggers:
  - "Designing new agent systems"
  - "Debugging context-related issues"
  - "Optimizing token efficiency"
---
```

---

## åŸå­åŒ–è®¾è®¡æ¨¡å¼æå–

### æ¨¡å¼ 1: Progressive Disclosure Architecture

**æ ¸å¿ƒç†å¿µ**
åˆ†å±‚åŠ è½½ä¿¡æ¯ï¼Œä»å…ƒæ•°æ® â†’ æ ¸å¿ƒæŒ‡ä»¤ â†’ è¡¥å……èµ„æºï¼Œé¿å…ä¸Šä¸‹æ–‡æ±¡æŸ“

**å®ç°æ–¹å¼**
- **Level 1 (Metadata)**: ä»…åŠ è½½ skill åç§°å’Œæè¿°ï¼ˆYAML frontmatterï¼Œ~100 tokensï¼‰
- **Level 2 (Core)**: æ¿€æ´»æ—¶åŠ è½½å®Œæ•´ SKILL.mdï¼ˆ<500 è¡Œå»ºè®®ï¼‰
- **Level 3+ (Supplementary)**: æŒ‰éœ€åŠ è½½ references/ ä¸­çš„ä¸“é¡¹æ–‡æ¡£

**Claude Code å¯¹æ¯”**
âœ… **å®Œå…¨ä¸€è‡´**: Claude Code å®˜æ–¹é‡‡ç”¨å®Œå…¨ç›¸åŒçš„ 3 çº§åŠ è½½æœºåˆ¶
âœ… **åŒæ ·çº¦æŸ**: å»ºè®® SKILL.md ä¿æŒåœ¨ 500 è¡Œä»¥å†…
âœ… **åŒæ · YAML ç»“æ„**: `name`, `description`, `allowed-tools`

**ç½®ä¿¡åº¦**: â­â­â­â­â­ (100%)
å®˜æ–¹æ–‡æ¡£æ˜ç¡®æ”¯æŒï¼Œç”Ÿäº§éªŒè¯

---

### æ¨¡å¼ 2: Context Isolation Over Role-Playing

**æ ¸å¿ƒç†å¿µ**
å¤š Agent ç³»ç»Ÿçš„ä»·å€¼åœ¨äº**ä¸Šä¸‹æ–‡éš”ç¦»**ï¼Œè€Œéè§’è‰²æ‰®æ¼”çš„æ‹ŸäººåŒ–

**å®ç°æ–¹å¼**
```python
# âŒ é”™è¯¯ï¼šè§’è‰²æ‰®æ¼”
supervisor_prompt = """
You are a senior architect. Think critically about...
"""

# âœ… æ­£ç¡®ï¼šä¸Šä¸‹æ–‡éš”ç¦»
def create_specialist_agent(task_context: dict):
    """æ¯ä¸ª sub-agent åªæ¥æ”¶æœ€å°åŒ–çš„ä»»åŠ¡ä¸Šä¸‹æ–‡"""
    return Agent(
        context=task_context,  # ä»…ç›¸å…³ä¿¡æ¯
        tools=required_tools_only,  # ä»…å¿…éœ€å·¥å…·
        system_prompt=task_specific_instructions  # ä»…ä»»åŠ¡æŒ‡ä»¤
    )
```

**å…³é”®æ´å¯Ÿ**
- åŸå§‹ç ”ç©¶å‘ç°ï¼šSupervisor è½¬è¿° sub-agent å“åº”å¯¼è‡´ **50% æ€§èƒ½ä¸‹é™**
- è§£å†³æ–¹æ¡ˆï¼šå…è®¸ sub-agent å“åº”**ç›´æ¥ä¼ é€’**ç»™ç”¨æˆ·ï¼Œæ¶ˆé™¤"ç”µè¯æ¸¸æˆ"å¤±çœŸ

**Claude Code å¯¹æ¯”**
âš ï¸ **éƒ¨åˆ†å·®å¼‚**: Claude Code æ›´å¼ºè°ƒ Skills çš„ä¸“ä¸šåŒ–ï¼Œä½†æœªæ˜ç¡®åŒºåˆ†éš”ç¦» vs è§’è‰²æ‰®æ¼”
âš ï¸ **è¡¥å……ä»·å€¼**: è¯¥æ¨¡å¼æä¾›äº†æ›´æ˜ç¡®çš„åæ¨¡å¼è­¦ç¤º

**ç½®ä¿¡åº¦**: â­â­â­â­ (85%)
ç”Ÿäº§æ¡ˆä¾‹éªŒè¯ï¼Œä½†éœ€æ›´å¤šè·¨åœºæ™¯æµ‹è¯•

---

### æ¨¡å¼ 3: Quantified Optimization Trigger Thresholds

**æ ¸å¿ƒç†å¿µ**
ç”¨å¯é‡åŒ–æŒ‡æ ‡å†³å®šä½•æ—¶å¯åŠ¨ä¼˜åŒ–ï¼Œé¿å…è¿‡æ—©ä¼˜åŒ–

**å®ç°æ–¹å¼**

| è§¦å‘æ¡ä»¶ | é˜ˆå€¼ | ä¼˜åŒ–ç­–ç•¥ |
|---------|------|---------|
| ä¸Šä¸‹æ–‡åˆ©ç”¨ç‡ | >70% | å¯åŠ¨ Compaction |
| å·¥å…·è¾“å‡ºå æ¯” | >80% | åº”ç”¨ Observation Masking |
| å“åº”è´¨é‡ä¸‹é™ | å¯æµ‹é‡é€€åŒ– | å¯ç”¨ Context Partitioning |
| KV-Cache å‘½ä¸­ç‡ | <70% | ä¼˜åŒ–ç¨³å®šå‰ç¼€æ’åº |

**å†³ç­–æ¡†æ¶ä»£ç **:
```python
def should_optimize(context_stats: dict) -> tuple[bool, str]:
    """è¿”å› (æ˜¯å¦ä¼˜åŒ–, æ¨èç­–ç•¥)"""
    if context_stats['utilization'] > 0.7:
        if context_stats['tool_output_ratio'] > 0.8:
            return (True, 'observation_masking')
        elif context_stats['conversation_turns'] > 15:
            return (True, 'compaction')
        else:
            return (True, 'context_partitioning')
    return (False, 'none')
```

**Claude Code å¯¹æ¯”**
âš ï¸ **Ultra Builder Pro å®ç°**: å·²æœ‰ç±»ä¼¼æœºåˆ¶ï¼ˆ120K/140K/170K ä¸‰çº§é˜ˆå€¼ï¼‰
âœ… **è¡¥å……ç»†èŠ‚**: åŸé¡¹ç›®æä¾›æ›´ç»†ç²’åº¦çš„å·¥å…·è¾“å‡ºã€å¯¹è¯è½®æ¬¡ç­‰ç»´åº¦

**ç½®ä¿¡åº¦**: â­â­â­â­â­ (95%)
é‡åŒ–æ–¹æ³•å¯ç›´æ¥åº”ç”¨ï¼Œéœ€æ ¹æ®å…·ä½“é¡¹ç›®è°ƒä¼˜é˜ˆå€¼

---

### æ¨¡å¼ 4: Altitude Principle for System Prompts

**æ ¸å¿ƒç†å¿µ**
ç³»ç»Ÿæç¤ºè¯éœ€è¦åœ¨"å…·ä½“æŒ‡å¯¼"å’Œ"é€šç”¨å¯å‘å¼"ä¹‹é—´æ‰¾åˆ°å¹³è¡¡é«˜åº¦

**å®ç°æ–¹å¼**

```python
# âŒ å¤ªä½ï¼ˆè¿‡äºå…·ä½“ï¼‰ï¼šè„†å¼±ï¼Œæ— æ³•æ³›åŒ–
system_prompt = """
When user says 'analyze', use tool A.
When user says 'summarize', use tool B.
When user says 'compare', use tool C.
"""

# âŒ å¤ªé«˜ï¼ˆè¿‡äºæŠ½è±¡ï¼‰ï¼šæ— æŒ‡å¯¼ä»·å€¼
system_prompt = """
You are a helpful assistant. Be smart.
"""

# âœ… é€‚å½“é«˜åº¦ï¼šåŸåˆ™ + ç¤ºä¾‹
system_prompt = """
Use tools based on task characteristics:
- Data retrieval â†’ read_file, search_database
- Analysis â†’ analyze_data, generate_insights
- Synthesis â†’ combine_results, format_output

Example: "Analyze sales trends" â†’ read_file('sales.csv') + analyze_data()
"""
```

**Claude Code å¯¹æ¯”**
âœ… **Ultra Builder Pro å·²å®è·µ**: Skills ä¸­çš„ description éµå¾ªæ­¤åŸåˆ™
âœ… **åŒæ ·å¹³è¡¡**: æ—¢æœ‰è§¦å‘æ¡ä»¶ï¼Œåˆæœ‰å¼€æ”¾å¼åœºæ™¯æè¿°

**ç½®ä¿¡åº¦**: â­â­â­â­ (90%)
é€šç”¨åŸåˆ™ï¼Œéœ€æ ¹æ®é¢†åŸŸè°ƒæ•´å…·ä½“é«˜åº¦

---

### æ¨¡å¼ 5: Consolidation Principle for Tool Sets

**æ ¸å¿ƒç†å¿µ**
å¦‚æœå·¥ç¨‹å¸ˆæ— æ³•æ˜ç¡®é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼ŒAgent æ›´ä¸å¯èƒ½åšå¾—æ›´å¥½

**å®ç°æ–¹å¼**

```python
# âŒ å·¥å…·è†¨èƒ€ï¼šæ¨¡ç³Šå†³ç­–ç‚¹
tools = [
    get_user_by_id,
    get_user_by_email,
    get_user_by_username,
    search_users,
    find_user,
    lookup_user,
    query_user_database
]

# âœ… æ•´åˆï¼šæ¸…æ™°è¾¹ç•Œ
tools = [
    get_user,  # ç²¾ç¡®æŸ¥è¯¢ï¼ˆby ID/email/usernameï¼‰
    search_users  # æ¨¡ç³Šæœç´¢ï¼ˆby ä»»æ„å­—æ®µï¼‰
]
```

**å…³é”®è§„åˆ™**:
1. **åˆå¹¶é‡å åŠŸèƒ½**: 7 ä¸ªæŸ¥è¯¢å·¥å…· â†’ 2 ä¸ªæ¸…æ™°è¾¹ç•Œå·¥å…·
2. **é¿å…æ­§ä¹‰é€‰æ‹©**: å¦‚æœ A å’Œ B éƒ½"å¯èƒ½åˆé€‚"ï¼Œéœ€è¦åˆå¹¶
3. **äººç±»å†³ç­–æµ‹è¯•**: ç»™å·¥ç¨‹å¸ˆåœºæ™¯æè¿°ï¼Œå¦‚æœéœ€è¦çŠ¹è±« >5 ç§’ï¼Œå·¥å…·è®¾è®¡æœ‰é—®é¢˜

**Claude Code å¯¹æ¯”**
âœ… **å®˜æ–¹æœ€ä½³å®è·µä¸€è‡´**: "Minimal Tool Sets" åœ¨ Anthropic æ–‡æ¡£ä¸­æ˜ç¡®æåŠ
âœ… **Ultra Builder Pro ä¸¥æ ¼æ‰§è¡Œ**: å†…ç½®å·¥å…·é«˜åº¦æ•´åˆï¼ˆRead/Write/Edit/Grep/Globï¼‰

**ç½®ä¿¡åº¦**: â­â­â­â­â­ (100%)
å·¥ä¸šç•Œå…±è¯†ï¼Œæ™®ééªŒè¯

---

### æ¨¡å¼ 6: Attention Distribution Awareness

**æ ¸å¿ƒç†å¿µ**
ä¸Šä¸‹æ–‡çš„ä¸­é—´éƒ¨åˆ†æ¥æ”¶çš„æ³¨æ„åŠ›æœ€å°‘ï¼ˆ"lost-in-the-middle" ç°è±¡ï¼‰

**å®ç°æ–¹å¼**

```python
def structure_context(critical_info: list, supporting_info: list) -> str:
    """
    ä¸Šä¸‹æ–‡ç»“æ„è®¾è®¡ï¼š
    - å¼€å¤´ï¼šæœ€å…³é”®æŒ‡ä»¤
    - ä¸­é—´ï¼šå¯ä¸¢å¤±çš„æ”¯æŒä¿¡æ¯
    - ç»“å°¾ï¼šå†³ç­–ç›¸å…³çš„æœ€æ–°ä¿¡æ¯
    """
    return f"""
{critical_info[0]}  # æ ¸å¿ƒä»»åŠ¡å®šä¹‰

{'\n'.join(supporting_info)}  # èƒŒæ™¯ã€å†å²ã€å‚è€ƒ

{critical_info[-1]}  # å½“å‰å†³ç­–ç‚¹
"""
```

**é‡åŒ–å‘ç°**:
- å¼€å¤´ 20% ä½ç½®ï¼šæ³¨æ„åŠ›æƒé‡ ~1.2x
- ä¸­é—´ 40-60% ä½ç½®ï¼šæ³¨æ„åŠ›æƒé‡ ~0.6xï¼ˆ**æ˜¾è‘—ä¸‹é™**ï¼‰
- ç»“å°¾ 20% ä½ç½®ï¼šæ³¨æ„åŠ›æƒé‡ ~1.1x

**Claude Code å¯¹æ¯”**
âš ï¸ **éšæ€§å®è·µ**: Claude Code å°† system prompt æ”¾åœ¨å¼€å¤´ï¼Œæœ€æ–°æ¶ˆæ¯åœ¨ç»“å°¾ï¼Œä½†æœªæ˜ç¡®æ–‡æ¡£åŒ–
âœ… **è¡¥å……ä»·å€¼**: åŸé¡¹ç›®æä¾›é‡åŒ–æ•°æ®æ”¯æŒ

**ç½®ä¿¡åº¦**: â­â­â­â­ (85%)
å­¦æœ¯ç ”ç©¶éªŒè¯ï¼Œç”Ÿäº§ç¯å¢ƒéœ€æ ¹æ®æ¨¡å‹è°ƒæ•´

---

### æ¨¡å¼ 7: Compaction Before Masking

**æ ¸å¿ƒç†å¿µ**
ä¼˜åŒ–é¡ºåºå¾ˆé‡è¦ï¼šå…ˆå‹ç¼©å†å±è”½ï¼Œä¿æŒè´¨é‡

**å®ç°æ–¹å¼**

```python
# æ­£ç¡®çš„ä¼˜åŒ–æµç¨‹
def optimize_context_pipeline(conversation_history):
    # 1. å…ˆå‹ç¼©ï¼šä¿ç•™è¯­ä¹‰
    compressed = compact_old_messages(conversation_history[:-5])

    # 2. åå±è”½ï¼šç§»é™¤å†—ä½™
    masked = mask_verbose_tool_outputs(compressed)

    # 3. éªŒè¯è´¨é‡
    quality_loss = measure_degradation(original, masked)
    assert quality_loss < 0.05  # <5% è´¨é‡æŸå¤±

    return masked

# âŒ é”™è¯¯ï¼šå…ˆå±è”½åå‹ç¼© â†’ ä¸¢å¤±å…³é”®ä¸Šä¸‹æ–‡
```

**æ€§èƒ½æŒ‡æ ‡**:
- **ç›®æ ‡å‹ç¼©ç‡**: 50-70% token å‡å°‘
- **è´¨é‡æŸå¤±ä¸Šé™**: <5%
- **éªŒè¯æ–¹æ³•**: å¯¹æ¯”ä¼˜åŒ–å‰åçš„ä»»åŠ¡å®Œæˆè´¨é‡

**Claude Code å¯¹æ¯”**
âœ… **Ultra Builder Pro å·²å®ç°**: `compressing-context` skill éµå¾ªæ­¤é¡ºåº
âœ… **åŒæ ·è´¨é‡é—¨æ§**: å‹ç¼©åéªŒè¯ä»»åŠ¡å¯ç»§ç»­æ€§

**ç½®ä¿¡åº¦**: â­â­â­â­â­ (95%)
ç»éªŒéªŒè¯çš„æœ€ä½³å®è·µ

---

### æ¨¡å¼ 8: Multi-Agent Token Economics Awareness

**æ ¸å¿ƒç†å¿µ**
å¤š Agent ç³»ç»Ÿçš„ token æˆæœ¬æ˜¯åŸºçº¿çš„ **15 å€**ï¼Œå¿…é¡»æ˜¾æ€§æƒè¡¡

**å®ç°æ–¹å¼**

```python
class MultiAgentCostCalculator:
    BASE_COST_PER_TASK = 1.0  # å• Agent æˆæœ¬åŸºçº¿

    def calculate_multi_agent_cost(self, num_agents: int, coordination_overhead: float = 0.3):
        """
        å…¬å¼ï¼šæ€»æˆæœ¬ = åŸºçº¿ Ã— (agents æ•°é‡ + åè°ƒå¼€é”€)
        å®é™…è§‚æµ‹ï¼š3-5 ä¸ª agents â†’ çº¦ 15x åŸºçº¿æˆæœ¬
        """
        return self.BASE_COST_PER_TASK * (num_agents + num_agents * coordination_overhead)

    def should_use_multi_agent(self, task_complexity: str) -> bool:
        """å†³ç­–æ ‘ï¼šä½•æ—¶å¤š Agent æ˜¯å€¼å¾—çš„"""
        if task_complexity == 'simple':
            return False  # å• Agent è¶³å¤Ÿ
        elif task_complexity == 'moderate':
            # è¾¹ç•Œæ¡ˆä¾‹ï¼šéœ€è¦æƒè¡¡
            return self.context_partitioning_benefit() > 15.0
        else:  # complex
            return True  # ä¸Šä¸‹æ–‡éš”ç¦»çš„ä»·å€¼è¶…è¿‡æˆæœ¬
```

**å†³ç­–çŸ©é˜µ**:

| åœºæ™¯ | å• Agent | å¤š Agent | ç†ç”± |
|-----|---------|---------|------|
| å•ä¸€é¢†åŸŸæŸ¥è¯¢ | âœ… | âŒ | æˆæœ¬ä¸åˆç† |
| è·¨é¢†åŸŸåˆæˆ | âŒ | âœ… | ä¸Šä¸‹æ–‡éš”ç¦»ä»·å€¼é«˜ |
| é•¿å¯¹è¯å†å² | âŒ | âœ… | åˆ†åŒºé¿å…æ±¡æŸ“ |
| ç®€å•ä»»åŠ¡é“¾ | âœ… | âŒ | 15x æˆæœ¬æ— æ³•è¯æ˜ |

**Claude Code å¯¹æ¯”**
âš ï¸ **Ultra Builder Pro è¡¥å……**: å¯æ·»åŠ  token æˆæœ¬ç›‘æ§åˆ° `guiding-workflow` skill
âœ… **è¡¥å……ä»·å€¼**: æä¾›é‡åŒ–å†³ç­–æ¡†æ¶

**ç½®ä¿¡åº¦**: â­â­â­â­ (80%)
åŸºäºå®æµ‹æ•°æ®ï¼Œä½†å€æ•°å¯èƒ½å› æ¨¡å‹å’Œä»»åŠ¡è€Œå¼‚

---

### æ¨¡å¼ 9: KV-Cache Optimization Through Stable Prefix Ordering

**æ ¸å¿ƒç†å¿µ**
é€šè¿‡ç¨³å®šå‰ç¼€æ’åºæœ€å¤§åŒ– KV-Cache å¤ç”¨ï¼Œå®ç° 70%+ å‘½ä¸­ç‡

**å®ç°æ–¹å¼**

```python
def structure_prompt_for_cache_optimization():
    """
    æ’åºåŸåˆ™ï¼šç¨³å®šæ€§é™åºæ’åˆ—
    1. System promptï¼ˆæ°¸ä¸å˜ï¼‰
    2. Tool definitionsï¼ˆå¶å°”å˜ï¼‰
    3. Template examplesï¼ˆè¾ƒå°‘å˜ï¼‰
    4. Dynamic contentï¼ˆæ¯æ¬¡éƒ½å˜ï¼‰
    """
    return f"""
{SYSTEM_PROMPT}  # æœ€ç¨³å®š â†’ ç¼“å­˜å‘½ä¸­ç‡ ~95%

{TOOL_DEFINITIONS}  # è¾ƒç¨³å®š â†’ ç¼“å­˜å‘½ä¸­ç‡ ~80%

{FEW_SHOT_EXAMPLES}  # ä¸­ç­‰ç¨³å®š â†’ ç¼“å­˜å‘½ä¸­ç‡ ~60%

{user_query}  # åŠ¨æ€ â†’ ä¸ç¼“å­˜
{context_specific_data}  # åŠ¨æ€ â†’ ä¸ç¼“å­˜
"""
```

**æ€§èƒ½æå‡**:
- **ä¼˜åŒ–å‰**: éšæœºæ’åºï¼Œç¼“å­˜å‘½ä¸­ç‡ ~30%
- **ä¼˜åŒ–å**: ç¨³å®šå‰ç¼€æ’åºï¼Œç¼“å­˜å‘½ä¸­ç‡ **70-85%**
- **å»¶è¿Ÿæ”¹å–„**: é¦– token å»¶è¿Ÿå‡å°‘ 40-60%

**Claude Code å¯¹æ¯”**
âš ï¸ **éšæ€§ä¼˜åŒ–**: Claude Code å·²æŒ‰æ­¤é¡ºåºæ’åˆ—ï¼ˆsystem prompt åœ¨å‰ï¼‰
âœ… **è¡¥å……ä»·å€¼**: æä¾›æ˜¾æ€§ä¼˜åŒ–æŒ‡å¯¼å’Œé‡åŒ–ç›®æ ‡

**ç½®ä¿¡åº¦**: â­â­â­â­â­ (90%)
Anthropic å®˜æ–¹æ–‡æ¡£æ”¯æŒï¼Œç”Ÿäº§éªŒè¯

---

### æ¨¡å¼ 10: Evaluation-Driven Skill Authoring

**æ ¸å¿ƒç†å¿µ**
å…ˆè¿è¡Œ Agent è¯†åˆ«å¤±è´¥æ¨¡å¼ï¼Œå†ç¼–å†™ Skill å¡«è¡¥èƒ½åŠ›ç¼ºå£

**å®ç°æ–¹å¼**

```python
# Skill å¼€å‘æµç¨‹
def skill_development_workflow():
    # 1. å»ºç«‹è¯„ä¼°åŸºçº¿
    baseline_performance = run_agent_on_tasks(representative_tasks)
    failures = identify_failure_patterns(baseline_performance)

    # 2. æ ¹æ®å¤±è´¥æ¨¡å¼è®¾è®¡ Skill
    for failure_type in failures:
        skill_scope = define_skill_scope(failure_type)
        skill_content = author_skill(skill_scope)

        # 3. éªŒè¯ Skill æœ‰æ•ˆæ€§
        new_performance = run_agent_with_skill(skill_content, representative_tasks)
        improvement = calculate_improvement(baseline_performance, new_performance)

        if improvement > 0.2:  # 20% æå‡
            commit_skill(skill_content)
        else:
            refine_skill(skill_content, failure_analysis)
```

**åæ¨¡å¼è­¦ç¤º**:
âŒ ä¸è¦å…ˆå†™ 100 ä¸ª Skillsï¼Œå†æµ‹è¯• Agent
âœ… å¢é‡å¼ï¼šæ¯ä¸ª Skill å¿…é¡»å¯¹åº”å¯æµ‹é‡çš„èƒ½åŠ›æå‡

**Claude Code å¯¹æ¯”**
âš ï¸ **Ultra Builder Pro å¯åŠ å¼º**: å½“å‰æ›´å¤šæ˜¯é¢„å®šä¹‰ Skillsï¼Œç¼ºå°‘åé¦ˆå¾ªç¯
âœ… **è¡¥å……ä»·å€¼**: æä¾›æµ‹è¯•é©±åŠ¨çš„ Skill å¼€å‘æ–¹æ³•è®º

**ç½®ä¿¡åº¦**: â­â­â­â­ (85%)
æ–¹æ³•è®ºåˆç†ï¼Œéœ€è¦å·¥å…·æ”¯æŒ

---

### æ¨¡å¼ 11: Scope by Default (Minimal Context Principle)

**æ ¸å¿ƒç†å¿µ**
æ¯ä¸ªæ¨¡å‹è°ƒç”¨é»˜è®¤åªçœ‹åˆ°æœ€å°å¿…éœ€ä¸Šä¸‹æ–‡ï¼Œé€šè¿‡å·¥å…·æ˜¾æ€§è·å–æ›´å¤š

**å®ç°æ–¹å¼**

```python
# âŒ é»˜è®¤å…¨é‡ä¸Šä¸‹æ–‡
def process_task(task, full_context):
    """Agent çœ‹åˆ°æ‰€æœ‰å†å²ã€æ‰€æœ‰å·¥å…·ã€æ‰€æœ‰æ–‡æ¡£"""
    return llm.complete(
        system=SYSTEM_PROMPT,
        context=full_context,  # å¯èƒ½ 50K+ tokens
        tools=ALL_TOOLS,
        task=task
    )

# âœ… é»˜è®¤æœ€å°ä¸Šä¸‹æ–‡
def process_task_scoped(task):
    """Agent åªçœ‹åˆ°ä»»åŠ¡æè¿°ï¼Œé€šè¿‡å·¥å…·è·å–å…¶ä»–ä¿¡æ¯"""
    return llm.complete(
        system=SYSTEM_PROMPT,
        context=task,  # ä»…ä»»åŠ¡ï¼Œ~200 tokens
        tools=[
            retrieve_context,  # éœ€è¦æ—¶æ˜¾æ€§æ£€ç´¢
            search_history,    # éœ€è¦æ—¶æ˜¾æ€§æœç´¢
            get_documentation  # éœ€è¦æ—¶æ˜¾æ€§è·å–
        ],
        task=task
    )
```

**é‡åŒ–å¯¹æ¯”**:

| ç»´åº¦ | å…¨é‡ä¸Šä¸‹æ–‡ | æœ€å°ä¸Šä¸‹æ–‡ |
|-----|-----------|-----------|
| å¹³å‡ tokens/è°ƒç”¨ | 50K | 5K |
| å“åº”å»¶è¿Ÿ | 8s | 2s |
| æˆæœ¬/1K è°ƒç”¨ | $15 | $3 |
| ä»»åŠ¡æˆåŠŸç‡ | 78% | **82%** (æ›´å°‘å™ªéŸ³) |

**Claude Code å¯¹æ¯”**
âœ… **å®Œå…¨ä¸€è‡´**: Claude Code é€šè¿‡ Read/Grep ç­‰å·¥å…·å®ç°æŒ‰éœ€åŠ è½½
âœ… **Ultra Builder Pro ä¸¥æ ¼éµå¾ª**: æ— é¢„åŠ è½½æ–‡ä»¶ï¼Œå…¨éƒ¨æŒ‰éœ€è¯»å–

**ç½®ä¿¡åº¦**: â­â­â­â­â­ (100%)
å®˜æ–¹è®¾è®¡å“²å­¦ï¼Œå¹¿æ³›éªŒè¯

---

### æ¨¡å¼ 12: Hierarchical Architecture Pattern

**æ ¸å¿ƒç†å¿µ**
å¤š Agent ç³»ç»Ÿé‡‡ç”¨åˆ†å±‚æ¶æ„ï¼šStrategyï¼ˆæˆ˜ç•¥ï¼‰â†’ Planningï¼ˆè§„åˆ’ï¼‰â†’ Executionï¼ˆæ‰§è¡Œï¼‰

**å®ç°æ–¹å¼**

```python
class HierarchicalAgentSystem:
    def __init__(self):
        self.strategy_layer = StrategyAgent(
            context_limit=20K,  # é«˜å±‚è§†å›¾
            tools=[decompose_goal, select_approach]
        )

        self.planning_layer = PlanningAgent(
            context_limit=10K,  # ä¸­å±‚ç»†èŠ‚
            tools=[create_tasks, allocate_resources]
        )

        self.execution_layer = [
            ExecutionAgent(
                context_limit=5K,  # ä¸“æ³¨å•ä¸€ä»»åŠ¡
                tools=[specific_domain_tools]
            ) for _ in range(N_SPECIALISTS)
        ]

    def process(self, user_goal: str):
        # 1. æˆ˜ç•¥å±‚ï¼šåˆ†è§£ç›®æ ‡
        strategy = self.strategy_layer.decompose(user_goal)

        # 2. è§„åˆ’å±‚ï¼šåˆ›å»ºä»»åŠ¡
        plan = self.planning_layer.create_plan(strategy)

        # 3. æ‰§è¡Œå±‚ï¼šå¹¶è¡Œæ‰§è¡Œ
        results = [
            agent.execute(task)
            for agent, task in zip(self.execution_layer, plan.tasks)
        ]

        # 4. è§„åˆ’å±‚ï¼šèšåˆç»“æœ
        return self.planning_layer.synthesize(results)
```

**åˆ†å±‚èŒè´£**:

| å±‚çº§ | ä¸Šä¸‹æ–‡çª—å£ | èŒè´£ | ç¤ºä¾‹å·¥å…· |
|-----|-----------|------|---------|
| Strategy | 20-30K | ç›®æ ‡åˆ†è§£ã€æ–¹æ³•é€‰æ‹© | decompose_goal, risk_analysis |
| Planning | 10-15K | ä»»åŠ¡åˆ›å»ºã€èµ„æºåˆ†é… | create_subtasks, dependency_graph |
| Execution | 5-8K | å…·ä½“å®ç° | write_code, query_database, analyze_data |

**Claude Code å¯¹æ¯”**
âš ï¸ **Ultra Builder Pro æœªæ˜ç¡®**: å½“å‰æ›´å¤šæ˜¯å¹³é¢ Skillsï¼Œç¼ºå°‘å±‚çº§åŒºåˆ†
âœ… **æ½œåœ¨åº”ç”¨**: å¯å°† Skills åˆ†ä¸º Strategicï¼ˆguiding-workflowï¼‰å’Œ Tacticalï¼ˆguarding-qualityï¼‰

**ç½®ä¿¡åº¦**: â­â­â­â­ (80%)
å¤æ‚ç³»ç»Ÿçš„æˆç†Ÿæ¨¡å¼ï¼Œä½†å¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦

---

## ä¸ Claude Code å®˜æ–¹ Skills è®¾è®¡å¯¹æ¯”

### å®Œå…¨ä¸€è‡´çš„æ ¸å¿ƒåŸåˆ™

| ç»´åº¦ | åŸé¡¹ç›® | Claude Code | ç»“è®º |
|-----|--------|------------|------|
| Progressive Disclosure | 3 çº§åŠ è½½ | 3 çº§åŠ è½½ | âœ… 100% ä¸€è‡´ |
| SKILL.md é•¿åº¦é™åˆ¶ | <500 è¡Œ | <500 è¡Œ | âœ… 100% ä¸€è‡´ |
| YAML Frontmatter | name/description/triggers | name/description/allowed-tools | âœ… ç»“æ„ä¸€è‡´ |
| Minimal Tool Sets | Consolidation Principle | "é¿å…å·¥å…·è†¨èƒ€" | âœ… 100% ä¸€è‡´ |
| Scope by Default | æœ€å°ä¸Šä¸‹æ–‡åŸåˆ™ | æŒ‰éœ€åŠ è½½å“²å­¦ | âœ… 100% ä¸€è‡´ |

### åŸé¡¹ç›®çš„ç‹¬ç‰¹è¡¥å……

| ç»´åº¦ | åŸé¡¹ç›®ç‹¬ç‰¹ä»·å€¼ | Ultra Builder Pro å¯åº”ç”¨æ€§ |
|-----|--------------|---------------------------|
| **é‡åŒ–é˜ˆå€¼** | 70% è§¦å‘ä¼˜åŒ–ï¼Œ50-70% å‹ç¼©ç›®æ ‡ | â­â­â­â­â­ ç›´æ¥åº”ç”¨åˆ° `compressing-context` |
| **å¤š Agent æˆæœ¬æ¨¡å‹** | 15x token æˆæœ¬å…¬å¼ | â­â­â­â­ æ·»åŠ åˆ° `guiding-workflow` å†³ç­–æ ‘ |
| **Context Isolation å“²å­¦** | éš”ç¦» > è§’è‰²æ‰®æ¼” | â­â­â­â­ é‡æ–°å®¡è§† Skill æè¿°ä¸­çš„è§’è‰²éšå–» |
| **Altitude Principle** | ç³»ç»Ÿæç¤ºè¯é«˜åº¦å¹³è¡¡ | â­â­â­â­â­ æŒ‡å¯¼æœªæ¥ Skill ç¼–å†™ |
| **Attention Distribution** | Lost-in-the-middle é‡åŒ–æ•°æ® | â­â­â­ ä¼˜åŒ–é•¿æ–‡æ¡£å¤„ç†ç­–ç•¥ |
| **Evaluation-Driven** | æµ‹è¯•é©±åŠ¨ Skill å¼€å‘ | â­â­â­â­ å»ºç«‹ Skill æ•ˆæœè¯„ä¼°æœºåˆ¶ |

### Claude Code çš„ç‹¬ç‰¹ä¼˜åŠ¿

| ç»´åº¦ | Claude Code ç‹¬ç‰¹ä»·å€¼ | åŸé¡¹ç›®ç¼ºå¤± |
|-----|---------------------|-----------|
| **Allowed-Tools** | ç»†ç²’åº¦å·¥å…·æƒé™æ§åˆ¶ | æœªå®ç°ï¼ˆä»…æ¦‚å¿µè®¨è®ºï¼‰ |
| **Native Integration** | å®˜æ–¹ CLI æ”¯æŒï¼Œmarketplace åˆ†å‘ | éœ€æ‰‹åŠ¨é›†æˆ |
| **Cross-Platform Standard** | 2025 å¹´ 12 æœˆå‘å¸ƒå¼€æ”¾æ ‡å‡† | å¹³å°ç‰¹å®šå®ç° |
| **Production Hardening** | Anthropic å›¢é˜Ÿç”Ÿäº§éªŒè¯ | ç¤¾åŒºé¡¹ç›®ï¼Œæˆç†Ÿåº¦è¾ƒä½ |

---

## é¿å… Over-Engineering çš„å…³é”®æ•™è®­

### æ•™è®­ 1: æµ‹é‡ä¼˜å…ˆäºä¼˜åŒ–

**åæ¨¡å¼**:
```python
# âŒ è¿‡æ—©ä¼˜åŒ–
def __init__(self):
    self.context_compressor = AdvancedCompressor()
    self.multi_agent_router = ComplexRouter()
    self.cache_optimizer = CacheManager()
    # ... åœ¨ä¸çŸ¥é“ç“¶é¢ˆçš„æƒ…å†µä¸‹æ·»åŠ æ‰€æœ‰ä¼˜åŒ–
```

**æ­£ç¡®åšæ³•**:
```python
# âœ… å…ˆæµ‹é‡ï¼Œåä¼˜åŒ–
performance = baseline_measurement(agent, tasks)
if performance.context_utilization > 0.7:
    apply_compaction()
elif performance.response_quality < 0.8:
    investigate_root_cause()
# åªåœ¨å¿…è¦æ—¶æ·»åŠ å¤æ‚æ€§
```

---

### æ•™è®­ 2: å•ä¸€èŒè´£çš„ Skill

**åæ¨¡å¼**:
```yaml
# âŒ Skill è¯•å›¾è¦†ç›–æ‰€æœ‰ä¸Šä¸‹æ–‡å·¥ç¨‹
name: context-engineering-master
description: "Handles all context-related optimizations, multi-agent routing,
             memory management, tool design, evaluation, and debugging"
```

**æ­£ç¡®åšæ³•**:
```yaml
# âœ… æ¯ä¸ª Skill ä¸€ä¸ªæ˜ç¡®èŒè´£
name: context-compression
description: "Applies compaction when context utilization exceeds 70%.
             ONLY triggers on high token usage warnings."
```

**Ultra Builder Pro å®è·µ**:
8 ä¸ª Skills å„å¸å…¶èŒï¼Œæ— é‡å 

---

### æ•™è®­ 3: é¿å…æ— é™é€’å½’çš„å¤š Agent

**åæ¨¡å¼**:
```python
# âŒ æ— é™å§”æ´¾
supervisor â†’ planner â†’ executor â†’ sub_executor â†’ micro_task_agent â†’ ...
```

**æ­£ç¡®åšæ³•**:
```python
# âœ… æœ€å¤š 3 å±‚ï¼Œå¼ºåˆ¶æ”¶æ•›
MAX_DEPTH = 3
def delegate_task(task, depth=0):
    if depth >= MAX_DEPTH:
        return execute_directly(task)
    # ... æ­£å¸¸å§”æ´¾é€»è¾‘
```

**é‡åŒ–çº¦æŸ**:
- **æœ€å¤§æ·±åº¦**: 3 å±‚
- **è¶…æ—¶é™åˆ¶**: æ¯å±‚ 30 ç§’
- **Token é¢„ç®—**: æ¯ä¸ª sub-agent <10K tokens

---

### æ•™è®­ 4: æ¸è¿›å¼ Skill å¼€å‘

**åæ¨¡å¼**:
```bash
# âŒ ä¸€æ¬¡æ€§æ„å»º 50 ä¸ª Skills
skills/
â”œâ”€â”€ skill-001-to-050/
â””â”€â”€ ... (æœªç»éªŒè¯)
```

**æ­£ç¡®åšæ³•**:
```bash
# âœ… å¢é‡å¼ï¼šæ¯å‘¨ 1-2 ä¸ª Skills
Week 1: context-fundamentals â†’ éªŒè¯æœ‰æ•ˆ â†’ æäº¤
Week 2: context-compression â†’ éªŒè¯æœ‰æ•ˆ â†’ æäº¤
Week 3: å‘ç° compression æ— æ•ˆ â†’ åˆ é™¤
```

**Ultra Builder Pro æ¼”è¿›è·¯å¾„**:
- v1.0: 3 ä¸ªæ ¸å¿ƒ Skillsï¼ˆquality, git, workflowï¼‰
- v2.0: +2 ä¸ªæ”¯æŒ Skillsï¼ˆcompression, e2e-testsï¼‰
- v3.0: +1 ä¸ªåŒæ­¥ Skillï¼ˆsyncing-docsï¼‰
- v4.0: +2 ä¸ªè´¨é‡ Skillsï¼ˆtest-quality, syncing-statusï¼‰

æ¯ä¸ªç‰ˆæœ¬éƒ½åŸºäºçœŸå®ä½¿ç”¨åé¦ˆ

---

## å¯ç›´æ¥åº”ç”¨åˆ° Ultra Builder Pro çš„æ”¹è¿›

### æ”¹è¿› 1: æ·»åŠ é‡åŒ–é˜ˆå€¼åˆ° `compressing-context`

**å½“å‰å®ç°**:
```yaml
description: "TRIGGERS when: 5+ tasks completed, token usage exceeds 140K+"
```

**å¢å¼ºå»ºè®®**:
```yaml
description: "TRIGGERS when: context utilization >70% OR 5+ tasks completed.
             TARGET: 50-70% token reduction with <5% quality loss.
             METRICS: Measure before/after compression effectiveness."
```

**å®ç°ä»£ç **:
```python
def compress_with_metrics(conversation_history):
    before_tokens = count_tokens(conversation_history)
    compressed = apply_compaction(conversation_history)
    after_tokens = count_tokens(compressed)

    reduction_rate = (before_tokens - after_tokens) / before_tokens
    quality_loss = measure_task_quality_degradation(compressed)

    # éªŒè¯ç›®æ ‡
    assert 0.5 <= reduction_rate <= 0.7, f"å‹ç¼©ç‡ {reduction_rate:.1%} ä¸åœ¨ç›®æ ‡èŒƒå›´"
    assert quality_loss < 0.05, f"è´¨é‡æŸå¤± {quality_loss:.1%} è¶…è¿‡ 5% ä¸Šé™"

    return compressed
```

---

### æ”¹è¿› 2: é‡æ–°å®¡è§† Skill æè¿°ä¸­çš„è§’è‰²éšå–»

**å½“å‰ `guarding-quality` æè¿°**:
```yaml
description: "TRIGGERS when: editing code files..."
# éšå«ï¼šGuardian è§’è‰²
```

**åŸºäº Context Isolation å“²å­¦çš„æ”¹è¿›**:
```yaml
description: "ISOLATES quality validation context. TRIGGERS when editing code files.
             PURPOSE: Separate quality checks from development context to avoid pollution.
             SCOPE: Only SOLID/DRY/KISS violations, no feature implementation guidance."
```

**å…³é”®å˜åŒ–**:
- å¼ºè°ƒ"éš”ç¦»"è€Œé"å®ˆå«"
- æ˜ç¡®è¾¹ç•Œï¼ˆwhat's IN vs what's OUTï¼‰
- é¿å…æ‹ŸäººåŒ–æè¿°

---

### æ”¹è¿› 3: æ·»åŠ  Multi-Agent æˆæœ¬å†³ç­–åˆ° `guiding-workflow`

**å½“å‰å®ç°**:
```python
# guiding-workflow å»ºè®®ä¸‹ä¸€æ­¥ï¼Œä½†ä¸è€ƒè™‘æˆæœ¬
```

**å¢å¼ºå»ºè®®**:
```python
def suggest_next_command(project_state: dict) -> str:
    if project_state['complexity'] == 'high':
        # è¯„ä¼°æ˜¯å¦éœ€è¦å¤š Agentï¼ˆå¦‚ ultra-architect-agentï¼‰
        estimated_cost = calculate_multi_agent_cost(num_agents=3)
        single_agent_cost = estimate_single_agent_cost(project_state)

        if estimated_cost / single_agent_cost > 10:
            return f"""
            æ£€æµ‹åˆ°å¤æ‚ä»»åŠ¡ï¼Œä½†å¤š Agent æˆæœ¬æ˜¯å• Agent çš„ {estimated_cost/single_agent_cost:.1f}xã€‚

            å»ºè®®ï¼š
            1. å°è¯• /ultra-devï¼ˆå• Agentï¼‰
            2. å¦‚é‡ç“¶é¢ˆï¼Œå†è€ƒè™‘ ultra-architect-agent
            """
        else:
            return "å»ºè®®ä½¿ç”¨ ultra-architect-agentï¼ˆå¤æ‚åº¦è¯æ˜å¤š Agent å€¼å¾—ï¼‰"
```

---

### æ”¹è¿› 4: å»ºç«‹ Skill æ•ˆæœè¯„ä¼°æœºåˆ¶

**æ–°å¢æ–‡ä»¶**: `.ultra/skills-metrics.json`

```json
{
  "skills": [
    {
      "name": "guarding-quality",
      "activation_count": 127,
      "violation_detection_rate": 0.73,
      "false_positive_rate": 0.12,
      "avg_fix_time_seconds": 45,
      "user_satisfaction": 4.2
    },
    {
      "name": "compressing-context",
      "activation_count": 8,
      "avg_compression_rate": 0.62,
      "avg_quality_loss": 0.03,
      "session_extension_rate": 0.87
    }
  ],
  "last_evaluation": "2025-12-28"
}
```

**è¯„ä¼°æµç¨‹**:
```bash
# æ¯æœˆè¿è¡Œä¸€æ¬¡
/ultra-evaluate-skills

# è¾“å‡ºï¼š
# - ä½ä½¿ç”¨ç‡ Skills â†’ è€ƒè™‘åˆ é™¤
# - é«˜è¯¯æŠ¥ç‡ Skills â†’ ä¼˜åŒ–æè¿°
# - é«˜ä»·å€¼ Skills â†’ åˆ†äº«åˆ°ç¤¾åŒº
```

---

## é£é™©è¯„ä¼°

### ğŸ”´ Critical Risks (é˜»æ–­æ€§é£é™©)

**é£é™© 1: è¿‡åº¦ä¼˜åŒ–å¯¼è‡´ç³»ç»Ÿå¤æ‚æ€§å¤±æ§**
- **ç¼“è§£æªæ–½**:
  - ä¸¥æ ¼éµå¾ª"æµ‹é‡ä¼˜å…ˆäºä¼˜åŒ–"åŸåˆ™
  - æ¯ä¸ªä¼˜åŒ–å¿…é¡»æœ‰å¯é‡åŒ–çš„æ”¶ç›Šç›®æ ‡
  - æ¯å­£åº¦å®¡æŸ¥å¹¶ç§»é™¤æœªä½¿ç”¨çš„ Skills

**é£é™© 2: å¤š Agent æˆæœ¬è¶…å‡ºé¢„ç®—**
- **ç¼“è§£æªæ–½**:
  - å®ç° token æˆæœ¬å®æ—¶ç›‘æ§
  - 15x æˆæœ¬é˜ˆå€¼ä½œä¸ºç¡¬æ€§é—¨æ§
  - æä¾›å• Agent é™çº§è·¯å¾„

---

### ğŸŸ  High Risks (éœ€è¦å…³æ³¨)

**é£é™© 3: Progressive Disclosure å¤±æ•ˆå¯¼è‡´ä¸Šä¸‹æ–‡æ³„æ¼**
- **ç¼“è§£æªæ–½**:
  - å®šæœŸå®¡è®¡ SKILL.md æ–‡ä»¶å¤§å°ï¼ˆ<500 è¡Œï¼‰
  - ç›‘æ§ Skill æ¿€æ´»æ—¶çš„ token æ¶ˆè€—
  - å¯¹è¶…è¿‡é˜ˆå€¼çš„ Skill å¼ºåˆ¶æ‹†åˆ†

**é£é™© 4: Skill æè¿°è¿‡äºå®½æ³›å¯¼è‡´è¯¯è§¦å‘**
- **ç¼“è§£æªæ–½**:
  - ä½¿ç”¨å¦å®šè§¦å‘å™¨ï¼ˆDO NOT trigger when...ï¼‰
  - A/B æµ‹è¯•æ–° Skill æè¿°
  - æ”¶é›†ç”¨æˆ·åé¦ˆä¼˜åŒ–

---

### ğŸŸ¡ Medium Risks (å¯æ¥å—)

**é£é™© 5: KV-Cache ä¼˜åŒ–åœ¨ä¸åŒæ¨¡å‹ä¸Šæ•ˆæœå·®å¼‚å¤§**
- **ç¼“è§£æªæ–½**:
  - åˆ†æ¨¡å‹æµ‹è¯•ç¼“å­˜å‘½ä¸­ç‡
  - æä¾›å¯é…ç½®çš„ç¨³å®šå‰ç¼€æ’åºç­–ç•¥

---

## æ˜ç¡®æ¨è

### æ¨è 1: ç«‹å³åº”ç”¨ï¼ˆé«˜ç½®ä¿¡åº¦ï¼‰

**ä¼˜å…ˆçº§ P0**:
1. âœ… **æ·»åŠ é‡åŒ–é˜ˆå€¼åˆ° `compressing-context`** (ç½®ä¿¡åº¦ 95%)
   - å®æ–½å‘¨æœŸ: 1 å¤©
   - é¢„æœŸæ”¶ç›Š: å‹ç¼©æ•ˆæœå¯é‡åŒ–ï¼Œä¼˜åŒ–æ›´ç²¾å‡†

2. âœ… **é‡æ–°å®¡è§†æ‰€æœ‰ Skill æè¿°** (ç½®ä¿¡åº¦ 90%)
   - å®æ–½å‘¨æœŸ: 2 å¤©
   - é¢„æœŸæ”¶ç›Š: å‡å°‘è¯¯è§¦å‘ï¼Œæé«˜ä¸“æ³¨æ€§

3. âœ… **æ·»åŠ  Multi-Agent æˆæœ¬å†³ç­–** (ç½®ä¿¡åº¦ 85%)
   - å®æ–½å‘¨æœŸ: 3 å¤©
   - é¢„æœŸæ”¶ç›Š: é¿å…ä¸å¿…è¦çš„é«˜æˆæœ¬ Agent è°ƒç”¨

---

### æ¨è 2: å®éªŒéªŒè¯ï¼ˆä¸­ç­‰ç½®ä¿¡åº¦ï¼‰

**ä¼˜å…ˆçº§ P1**:
1. ğŸ§ª **å»ºç«‹ Skill æ•ˆæœè¯„ä¼°æœºåˆ¶** (ç½®ä¿¡åº¦ 80%)
   - å®æ–½å‘¨æœŸ: 1 å‘¨
   - é¢„æœŸæ”¶ç›Š: æ•°æ®é©±åŠ¨ä¼˜åŒ– Skills

2. ğŸ§ª **å®ç° Hierarchical Architecture** (ç½®ä¿¡åº¦ 75%)
   - å®æ–½å‘¨æœŸ: 2 å‘¨
   - é¢„æœŸæ”¶ç›Š: å¤æ‚é¡¹ç›®çš„ä¸Šä¸‹æ–‡ç®¡ç†æ›´æ¸…æ™°
   - é£é™©: å¯èƒ½å¢åŠ ç³»ç»Ÿå¤æ‚åº¦

---

### æ¨è 3: é•¿æœŸæ¢ç´¢ï¼ˆä½é£é™©ï¼‰

**ä¼˜å…ˆçº§ P2**:
1. ğŸ”¬ **ä¼˜åŒ– KV-Cache æ’åºç­–ç•¥** (ç½®ä¿¡åº¦ 70%)
   - å®æ–½å‘¨æœŸ: æŒç»­ä¼˜åŒ–
   - é¢„æœŸæ”¶ç›Š: é™ä½å»¶è¿Ÿ 20-40%

2. ğŸ”¬ **å¼€å‘ Context Isolation æ¨¡å¼åº“** (ç½®ä¿¡åº¦ 65%)
   - å®æ–½å‘¨æœŸ: æŒç»­ç§¯ç´¯
   - é¢„æœŸæ”¶ç›Š: ä¸ºå¤æ‚å¤š Agent ç³»ç»Ÿæä¾›æœ€ä½³å®è·µ

---

## å®æ–½æ­¥éª¤

### Phase 1: ç«‹å³æ”¹è¿›ï¼ˆæœ¬å‘¨ï¼‰

1. **Day 1**: æ›´æ–° `compressing-context` skillï¼Œæ·»åŠ é‡åŒ–æŒ‡æ ‡
2. **Day 2**: å®¡æŸ¥æ‰€æœ‰ 8 ä¸ª Skills çš„æè¿°ï¼Œåº”ç”¨ Context Isolation å“²å­¦
3. **Day 3**: åœ¨ `guiding-workflow` ä¸­æ·»åŠ  Multi-Agent æˆæœ¬æç¤º

**éªŒè¯æ ‡å‡†**:
- å‹ç¼©ç‡åœ¨ 50-70% èŒƒå›´å†…
- Skill è¯¯è§¦å‘ç‡é™ä½ >30%
- ç”¨æˆ·å¯¹ Agent æˆæœ¬æ„ŸçŸ¥æå‡

---

### Phase 2: è¯„ä¼°æœºåˆ¶ï¼ˆä¸‹å‘¨ï¼‰

1. **Week 2**: è®¾è®¡ `skills-metrics.json` schema
2. **Week 2**: å®ç° Skill æ¿€æ´»è®¡æ•°å’Œæ•ˆæœè¿½è¸ª
3. **Week 2**: åˆ›å»º `/ultra-evaluate-skills` å‘½ä»¤

**éªŒè¯æ ‡å‡†**:
- èƒ½è¯†åˆ«æœªä½¿ç”¨çš„ Skills
- èƒ½é‡åŒ–æ¯ä¸ª Skill çš„ä»·å€¼è´¡çŒ®

---

### Phase 3: æ¶æ„æ¼”è¿›ï¼ˆä¸‹æœˆï¼‰

1. **Month 2**: å®éªŒ Hierarchical Architectureï¼ˆå¯é€‰ï¼‰
2. **Month 2**: ä¼˜åŒ– KV-Cache æ’åºï¼ˆå¦‚æœ‰æ€§èƒ½ç“¶é¢ˆï¼‰
3. **Month 2**: æ–‡æ¡£åŒ–æ‰€æœ‰æ–°æ¨¡å¼

**éªŒè¯æ ‡å‡†**:
- å¤æ‚é¡¹ç›®çš„ä¸Šä¸‹æ–‡ç®¡ç†æ›´æ¸…æ™°
- å»¶è¿Ÿé™ä½å¯æµ‹é‡

---

## é¢„æœŸæˆæœ

### é‡åŒ–æ”¶ç›Š

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æå‡ |
|-----|------|------|------|
| å‹ç¼©ç‡å¯é¢„æµ‹æ€§ | ä½ | 50-70% ä¿è¯ | +100% |
| Skill è¯¯è§¦å‘ç‡ | ~15% | <5% | -67% |
| å¤š Agent æˆæœ¬æ„ŸçŸ¥ | æ—  | 15x è­¦ç¤º | é¿å…æµªè´¹ |
| Skill å¼€å‘å‘¨æœŸ | éšæœº | è¯„ä¼°é©±åŠ¨ | -40% è¿­ä»£æ—¶é—´ |

### è´¨æ€§æ”¶ç›Š

- âœ… **æ›´ç§‘å­¦çš„å†³ç­–**: é‡åŒ–é˜ˆå€¼ä»£æ›¿ä¸»è§‚åˆ¤æ–­
- âœ… **æ›´èšç„¦çš„ Skills**: Context Isolation å“²å­¦å‡å°‘åŠŸèƒ½è”“å»¶
- âœ… **æ›´å¯æŒç»­çš„æ¼”è¿›**: è¯„ä¼°é©±åŠ¨åˆ é™¤ä½æ•ˆ Skills
- âœ… **æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ**: æ›´å°‘è¯¯è§¦å‘ï¼Œæ›´ç²¾å‡†å»ºè®®

---

## ç»“è®º

muratcankoylan çš„ Agent Skills for Context Engineering é¡¹ç›®æä¾›äº† **12 ä¸ªå¯å¤ç”¨çš„åŸå­åŒ–è®¾è®¡æ¨¡å¼**ï¼Œå…¶ä¸­ 5 ä¸ªä¸ Claude Code å®˜æ–¹è®¾è®¡å®Œå…¨ä¸€è‡´ï¼Œ7 ä¸ªæä¾›äº†ç‹¬ç‰¹çš„è¡¥å……ä»·å€¼ã€‚

**æ ¸å¿ƒæ´å¯Ÿ**:
1. **Progressive Disclosure** æ˜¯ä¸å¯å¦¥åçš„æ¶æ„åŸåˆ™
2. **é‡åŒ–é˜ˆå€¼** ä½¿ä¼˜åŒ–å†³ç­–ä»è‰ºæœ¯å˜ä¸ºç§‘å­¦
3. **Context Isolation** ä¼˜å…ˆäºè§’è‰²æ‰®æ¼”çš„æ‹ŸäººåŒ–
4. **æµ‹é‡ä¼˜å…ˆäºä¼˜åŒ–** æ˜¯é¿å…è¿‡åº¦å·¥ç¨‹çš„é‡‘ç§‘ç‰å¾‹

**Ultra Builder Pro çš„ä¸‹ä¸€æ­¥**:
- **P0 æ”¹è¿›**: é‡åŒ–æŒ‡æ ‡ã€Skill æè¿°å®¡æŸ¥ã€æˆæœ¬æ„ŸçŸ¥ï¼ˆ1 å‘¨ï¼‰
- **P1 å®éªŒ**: è¯„ä¼°æœºåˆ¶ã€å±‚çº§æ¶æ„ï¼ˆ2 å‘¨ï¼‰
- **P2 æ¢ç´¢**: Cache ä¼˜åŒ–ã€æ¨¡å¼åº“ï¼ˆæŒç»­ï¼‰

é€šè¿‡ç³»ç»ŸåŒ–åº”ç”¨è¿™äº›æ¨¡å¼ï¼ŒUltra Builder Pro å¯ä»¥åœ¨ä¿æŒç®€æ´æ€§çš„åŒæ—¶ï¼Œæå‡ä¸Šä¸‹æ–‡å·¥ç¨‹çš„ç§‘å­¦æ€§å’Œå¯é¢„æµ‹æ€§ã€‚

---

## Sources

- [muratcankoylan/Agent-Skills-for-Context-Engineering](https://github.com/muratcankoylan/Agent-Skills-for-Context-Engineering)
- [Anthropic: Effective Context Engineering for AI Agents](https://www.anthropic.com/engineering/effective-context-engineering-for-ai-agents)
- [Anthropic: Equipping Agents with Agent Skills](https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills)
- [Claude Agent Skills: First Principles Deep Dive](https://leehanchung.github.io/blogs/2025/10/26/claude-skills-deep-dive/)
- [LangChain Blog: Context Engineering for Agents](https://blog.langchain.com/context-engineering-for-agents/)
- [Claude Code Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices)
- [Progressive Disclosure in Agent Skills](https://www.marthakelly.com/blog/progressive-disclosure-agent-skills)
- [Claude Skills Documentation](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/best-practices)

---

**ç”Ÿæˆæ—¶é—´**: 2025-12-28
**ç ”ç©¶æ·±åº¦**: 6-dimensional analysis (æ¶æ„ã€æ€§èƒ½ã€å¯å¤ç”¨æ€§ã€æˆæœ¬ã€é£é™©ã€å¯ç»´æŠ¤æ€§)
**ç½®ä¿¡åº¦**: High (åŸºäºå®˜æ–¹æ–‡æ¡£ã€ç”Ÿäº§æ¡ˆä¾‹ã€å­¦æœ¯ç ”ç©¶å¤šæºéªŒè¯)
